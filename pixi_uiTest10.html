<!DOCTYPE html>
<html>

<head>
    <title>Bootstrap 模板</title>
    <!-- 引入 Bootstrap -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="scripts/bootstrap/css/bootstrap.min.css">
    <link href="scripts/bootstrap/css/fileinput.min.css" rel="stylesheet">
    <link href="scripts/bootstrap/css/fileinput-rtl.min.css" rel="stylesheet">
    <link rel="stylesheet" href="scripts/jqueryUI/jquery-ui.css">

    
    <script src="scripts/jqueryUI/external/jquery/jquery.js"></script>
    <script src="scripts/jqueryUI/jquery-ui.js"></script>
    <script src="scripts/pixi.min.js"></script>
    <script src="scripts/bootstrap/js/bootstrap.min.js"></script>

    <script src="scripts/bootstrap/js/fileinput.min.js"></script>
    <script src="scripts/pixi_effectDataTemplate.js"></script>
    <script src="scripts/pixi_UI_slideBarModule.js"></script>

</head>

<body>

    <script>
        console.log('start')
        PIXI_globalData = loadGlobalData()
        
        var Container = PIXI.Container,
            loader = PIXI.loader,
            resources = PIXI.loader.resources,
            Sprite = PIXI.Sprite,
            TextureCache = PIXI.utils.TextureCache,
			Rectangle = PIXI.Rectangle,
			Texture =PIXI.Texture
        
        var app = new PIXI.Application(400, 400, {
            backgroundColor: 0x1099bb
        });
        
        app.view.style.border = "3px dashed red";
        app.view.style.position = 'absolute';
        app.view.style.left = "410px";
        app.view.style.top = "5px";
        
        document.body.appendChild(app.view);

        
        var miniApp = new PIXI.Application(150, 150, {
            backgroundColor: 0x1099bb
        });
        miniApp.view.style.border = "2px solid brown";
        miniApp.view.style.position = 'absolute';
        miniApp.view.style.left = "20px";
        miniApp.view.style.top = "1000px";
        
        document.body.appendChild(miniApp.view);
        //var stage = new Container();
        //app.render(stage)

        
        function onDragMove() {
            if (this.dragging) {
                var newPosition = this.data.getLocalPosition(this.parent);
                this.x = newPosition.x;
                this.y = newPosition.y;
                
                console.log(this.x,this.y)
            }
        }

        var renderEvent = []

        function PIXI_loader(id, url) {

            loader
                .add(id, url)
                .load();


        };





        function redrawRender(containID) {
            app.render(containID)
        };



        function setBG() {
            app.stage.removeChildren(background);
            var BGW = PIXI_globalData.BGA.width;
            var BGH =  PIXI_globalData.BGA.height;
            var BGColor = "0x" + document.getElementById("colorBGA").value.split('#')[1];
            var BGAURL = document.getElementById("showBGA").value;
            var BGA_Scale = PIXI_globalData.BGA.screenScale;;
            var BG_stage = new Container()
            BG_stage.interactive = true
            app.renderer.resize(BGW, BGH);

            app.renderer.backgroundColor = BGColor;
            redrawRender(BG_stage);

            var background = resources.BGA_image;
            background = new Sprite(TextureCache[BGAURL]);
            background.scale.set(BGA_Scale)


            PIXI_globalData.BGA.URL = BGAURL;
            PIXI_globalData.BGA.width = BGW;
            PIXI_globalData.BGA.width = BGH;
            //console.log(TextureCache.BGA_image.baseTexture.width);
            //console.log("app.stage",app.stage)
            
            app.stage.addChild(background);
           // redrawRender(BG_stage)
        }


        $(document).ready(function() {
            $("#testAll").click(function() {
                console.log('resources',resources);
				console.log('resources_spritesImagesJson',resources.spritesImagesJsonA);
                console.log(PIXI_globalData);
            });
            $("#resetA").click(function() {
                console.log("resetA")

            });
            $("#applyA").click(function() {

                console.log(PIXI_globalData.inputA.spritesImageMode,typeof PIXI_globalData.inputA.spritesImageMode);
                var frameListA = Object.keys(resources.spritesImagesJsonA.data.frames); 
                if(PIXI_globalData.inputA.spritesImageMode == 0)
				{console.log("singal frame");
				 var stillImageA = document.getElementById("stillImageNameA").value;
				 PIXI_globalData.inputA.stillImageName = stillImageA;
				 
                 appendListInfoIntoTextarea(frameListA);

				 checkImageInSpritesSheet(stillImageA,frameListA);
			  	}else{console.log("sequence frame");
					 PIXI_globalData.inputA.stillImageName = "sequence images";
                     var spritesSpeed = PIXI_globalData.inputA.adjust.frameSpeed;
                     console.log(spritesSpeed)
                     buildSpritesSheetSequence(frameListA,spritesSpeed);
				 	};

            });
        });
        
        function appendListInfoIntoTextarea(dataList){
            //$("#info").val("images:");
            var frameList = ""
            for(var i in dataList){  
                frameList += (dataList[i]+" \n");
                //$("#info").append(dataList[i]);
            };
            //console.log("frameList",frameList);
            $("#info").val(frameList)
        };
		
		function checkImageInSpritesSheet(spriteName,spritesList){
			var checkExist = jQuery.inArray( spriteName, spritesList);
			if(checkExist == -1){
				console.log("檔案不存在(sprite Image)");
				document.getElementById("stillImageNameA").value ="檔案不存在(sprite Image)";
				}else{console.log(checkExist,spritesList[checkExist]);
					 var sprite = addSprite(spriteName);
					 console.log("sprite",sprite);
					 app.stage.addChild(sprite);

					 };
			};
        
        //創建anim Sprites event List  , animSpritesList(將序列的sprties images建立成一個連續撥放的list),anim(使用PIXI.extras.AnimatedSprite將 animSpritesList建立為PIXI的動態撥放事件)
       
        function buildSpritesSheetSequence(spritesList,spritesSpeed){ 
            var animSpritesList = []

            for(var i in spritesList){
                //var imageItem = Sprite.fromFrame(spritesList[i]);
                var imageItem = Texture.fromFrame(spritesList[i])
                //console.log("imageItem",imageItem);
                animSpritesList.push(imageItem)
            };
            var anim = new PIXI.extras.AnimatedSprite(animSpritesList);
            //console.log("anim",anim)
            anim.animationSpeed = spritesSpeed;
            //check anim scale ,width and height
            if(anim.width >= anim.height){ var animPreViewScale = (miniApp.screen.width / anim.width);  
            }else{
                var animPreViewScale = (miniApp.screen.width / anim.height)
            };
            
            //console.log("animPreViewScale",animPreViewScale,miniApp.screen.width,anim.width,anim.height)
            anim.scale.set(animPreViewScale);
            anim.anchor.set(0.5);
            anim.x = 75;
            anim.y = 75;
            miniApp.stage.removeChild(miniApp.stage.children[0])
            miniApp.stage.addChild(anim)
            anim.play(); 
        };
        
        
        
        
        
        
        
        function playAnim(){
            var anim = new PIXI.extras.AnimatedSprite(animSpritesList);
            //console.log("anim",anim);
            app.stage.addChildren(anim);
            anim.play();           
        };
        

        
     

        function getFrameList(spritesList){
            var frameList = []
            for(var i in spritesList){
                //console.log(i,spritesList[i])
                frameList.push(spritesList[i])
            };
            return frameList
        };
		
		function addSprite(imageName){
			var imageItem = Sprite.fromFrame(imageName);
			//console.log(imageItem);
			return imageItem;
		};
		
		
                                              
		
		
    </script>


</body>

<body>

    <div class="container-fluid">

        <div class="row-fluid">

            <div class="col-xs-6 span4" style="background-color: rgb(230,230,200);padding:3px;margin:1px;width:380px; ">

                <div class="row-fluid" id="inputBG_Dialog" style="background-color:rgb(250,250,250);padding:5px;width:350px;margin:5px;border-radius: 10px;">
                    <div>
                        <button class="btn btn-warning" id="testAll" style="width:100px;font-size:16px;padding-left: 3px;line-height: 25px;margin-top: 5px">testA</button>
                    </div>
                    <div class="dropdown" style=" padding-left: 10px;  line-height: 35px;">


                            <button class="btn btn-info dropdown-toggle" type="button" id="screenModeButton" data-toggle="dropdown" style="margin-left: -2px; width: 280px;height: 30px;line-height: 23px; padding: 1px;text-align: center;">版型選擇
                            <span class="caret"></span></button>
                                <ul class="dropdown-menu" role="presentation" aria-labelledby="screenModeButton" id ="screenMode_databox">
                                    <li role="presentation"><a role="menuitem" tabindex="0" href="#" >1. 1920 1080 , scale=1 solt game h5</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="1" href="#">2. 960 540 , scale=0.5 solt game h5</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="1" href="#">3. 1280 720 , scale=1 test A</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="1" href="#">4. 1024 1024 , scale=1 test B</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="1" href="#">5. 1000 700 , scale=1 slot Game flash</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="1" href="#">6. 800 800 , scale=1 test D</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="1" href="#">7. 400 400 , scale=1 test E</a></li>
                                    <li role="presentation" class="divider"></li>
                                    <li role="presentation"><a role="menuitem" tabindex="87" href="#">沒事別亂按</a></li>
                                </ul>

                    </div>
                    <div class="col-xs-3 span2" style="width:100px;line-height: 35px;">

                        <input type="file" id="inputBGA"  >


                    </div>
                    <div class="col-xs-3 span2" style="width:230px;font-size: 14px">

                        <input type="text" id="showBGA" value="選取背景圖檔" style="width:150px;height: 16px; color:darkcyan;text-align:center;margin: 5px;line-height: 20px;"><br>
                    
                    </div>
                    <span style="margin-left: 10px">BG color: </span><input type="color" id="colorBGA" value="#11aaaa"  style="width:50px;height: 20px; margin-top: 5px;color:darkcyan;padding: 1px;text-align:center;"><br>
                    <button id="BGA_apply" class="btn btn-success" onclick="setBG()" style="height: 25px;width:100px;margin-left: 10px; margin-top: 5px;">APPLY</button>



                    
                </div>
                <div id = "infoBox" style="background-color:rgb(250,250,250);padding:5px;width:360px;border-radius: 10px;">
                  <textarea  id="info" style="width:340px;height: 50px;margin: 0px"></textarea>
   
                </div>
                <div style=" padding: 5px;letter-spacing: 1px;">
                    <!-- Right  inputDataA-->

                    <button id="input_a" class="btn btn-success">素材 A</button><small class="text-info" style=" padding-left: 10px;">點選展開 </small>


                    <div id="inputDataA">

                        <div id="inputADialog_1" style="background-color:rgb(250,250,250);padding:5px;width:350px;margin:5px;border-radius: 10px;">
                            <p style=" padding-left: 10px; ">圖檔模式:</p>
                            <form action="">
                                <div class="container-fluid" style=" padding-left: 15px;">
                                    <input type="radio" name="optionsRadiosinline" id="optionsRadiosA1" value="option1"> 單張圖:
                                    <input type="text" id="stillImageNameA" class="text-info" style="width:180px;padding:0px;margin-bottom: -2px;font-size: 12px;color:darkgray" >
                                    <button id="inputExtA" class= "btn btn-info" style="line-height: 10px;width: 50px; font-size: 10px">展開</button><br>
                                    <input type="radio" name="optionsRadiosinline" id="optionsRadiosA2" value="option2" checked> 連續圖
                                </div>
                            </form>
                            <div class="row" style=" padding-left: 5px; margin: 5px;width:350; ">
                                <div class="col-xs-3 span2" style="width:110px;line-height: 35px;">
                                    <input type="file" id="inputJsonA">
                                    <input type="file" id="inputSpriteJsonA">
                                    <input type="file" id="stageDescriptJsonA">

                                </div>
                                <div class="col-xs-3 span5" style="width:200px">
                                    <input type="text" id="showMotionJsonA" value="選取動態JSON檔案" style="width:200px;margin-top: 4px;color:darkcyan;">
                                    <input type="text" id="showSpriteJsonA" value="選取Sprites JSON檔案" style="width:200px;margin-top: -6px;color:darkcyan;">
                                    <input type="text" id="showStageDescriptJsonA" value="選取stage描述JSON檔案" style="width:200px;margin-top: -4px;color:darkcyan;"> 

                                </div>
                            </div>


                            <div class="dropdown" style=" padding-left: 10px;  line-height: 35px;">


                                <button class="btn btn-warning dropdown-toggle" type="button" id="menuA_blendMode" data-toggle="dropdown" style="width: 120px;padding: 1px;">混色模式
                            <span class="caret"></span></button><text id="blendModeTextA" style="padding-left:15px;color:darkcyan ">選擇混色模式</text><br>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="menuA_blendMode" id ="databoxA">
                                    <li role="presentation"><a role="menuitem" tabindex="0" href="#">NORMAL</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="1" href="#">ADD</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="2" href="#">MULTIPKY</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="3" href="#">SCREEN</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="4" href="#">OVERLAY</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="5" href="#">LIGHTEN</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="6" href="#">COLOR_DODGE</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="7" href="#">COLOR_BURN</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="8" href="#">HARD_LIGHT</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="9" href="#">SOFT_LIGHT</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="10" href="#">DIFFERENCE</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="11" href="#">EXCLUSION</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="12" href="#">HUE</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="13" href="#">SATURATION</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="14" href="#">COLOR</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="15" href="#">LUMINOSITY</a></li>
                                    <li role="presentation" class="divider"></li>
                                    <li role="presentation"><a role="menuitem" tabindex="87" href="#">沒事別亂按</a></li>
                                </ul>

                            </div>
                            
                        </div>
                      
                        <div class="row" id="inputADialog_2" style="background-color:rgb(250,250,250);padding:0px;width:360px;margin:5px;border-radius: 10px;">
                            <h5 style="padding-left:12px">細部調整</h5>
                            <div class="col-xs-6 span4" style="font-size: 12px ;margin-left: 5px;line-height: 23px;margin-top: 12px">
                                speed <br>
                                <line></line>
                                frame Speed <br> Sprites Size <br> <span style="font-size: 12px"> random Size </span> <br> Sprites Rotate <br>rotate Random<br> frame Offset<br>Sprite Trans <br>Sprite Blur <br>
                            </div>
                            <div class="col-xs-6 span2" style="margin: 5px; line-height: 23px;">
                                <div id="speedSliderA" style="margin:10px;width:200px;height: ">
                                    <!-- slide bar -->

                                    <div id="speedSliderA-handle" class="ui-slider-handle" style="border-radius: 5px;width:25px;text-align: center;"></div>
                                </div>
                                <div id="frameSpeedA" style="margin:10px;width:200px">
                                    <div id="frameSpeedA-handle" class="ui-slider-handle" style="border-radius: 5px;width:25px;text-align: center;"></div>
                                </div>
                                <div id="SpritesSizeA" style="margin:10px;width:200px">
                                    <div id="SpritesSizeA-handle" class="ui-slider-handle " style="border-radius: 5px;width:25px;text-align: center;" ></div>
                                </div>
                                <div id="SpritesSizeRandomA" style="margin:10px;width:200px">
                                    <div id="SpritesSizeRandomA-handle" class="ui-slider-handle" style="border-radius: 5px;width:25px;text-align: center;"></div>
                                </div>
                                <div id="SpritesRotateA" style="margin:10px;width:200px">
                                    <div id="SpritesRotateA-handle" class="ui-slider-handle" style="border-radius: 5px;width:25px;text-align: center;"></div>
                                </div>
                                <div id="SpritesRotateRandomA" style="margin:10px;width:200px">
                                    <div id="SpritesRotateRandomA-handle" class="ui-slider-handle" style="border-radius: 5px;width:25px;text-align: center;"></div>
                                </div>
                                <div id="SpritesframeOffsetA" style="margin:10px;width:200px">
                                    <div id="SpritesframeOffsetA-handle" class="ui-slider-handle" style="border-radius: 5px;width:25px;text-align: center;"></div>
                                </div>
                                <div id="SpriteTransA" style="margin:10px;width:200px">
                                    <div id="SpriteTransA-handle" class="ui-slider-handle" style="border-radius: 5px;width:25px;text-align: center;"></div>
                                </div>
                                <div id="SpriteBlurA" style="margin:10px;width:200px">
                                    <div id="SpriteBlurA-handle" class="ui-slider-handle" style="border-radius: 5px;width:25px;text-align: center;"></div>
                                </div>
                                <button id="resetA" type="button" class="btn btn-info" style="height: 23px;width:100px;">RESET</button>
                                <button id="applyA" type="button" class="btn btn-success" style="height: 23px;width:100px;margin-top: 5px;">APPLY</button>

                            </div>
                        </div>

                    </div>

                </div>
                <div style=" padding: 5px;letter-spacing: 1px;">
                    <!-- Right  inputDataB-->

                    <button id="inputB" class="btn btn-success">素材 B</button><small class="text-info" style=" padding-left: 10px;">點選展開 </small>


                    <div id="inputDataB">

                        <div id="inputBDialog_1" style="background-color:rgb(250,250,250);padding:5px;width:350px;margin:5px;border-radius: 10px;">
                            <p style=" padding-left: 10px; ">圖檔模式:</p>
                            <form action="">
                                <div class="container-fluid" style=" padding-left: 3px;">
                                    <input type="radio" name="optionsRadiosinline" id="optionsRadiosB1" value="option1"> 單張圖
                                    <input type="radio" name="optionsRadiosinline" id="optionsRadiosB2" value="option2" checked> 連續圖
                                </div>
                            </form>
                            <div class="row" style=" padding-left: 5px; margin: 5px;width:350; ">
                                <div class="col-xs-3 span2" style="width:110px;line-height: 35px;">
                                    <input type="file" id="inputJsonB">
                                    <input type="file" id="inputSpriteJsonB">
                                    <input type="file" id="inputSprtieImageB">

                                </div>
                                <div class="col-xs-3 span5" style="width:200px">
                                    <input type="text" id="showMotionJsonB" value="選取動態JSON檔案" style="width:200px;margin-top: 4px;color:darkcyan;">
                                    <input type="text" id="showSpriteJsonB" value="選取Sprites JSON檔案" style="width:200px;margin-top: -6px;color:darkcyan;">
                                    <input type="text" id="showSpriteImageB" value="選取Sprite Image檔案" style="width:200px;margin-top: -4px;color:darkcyan;">

                                </div>
                            </div>


                            <div class="dropdown" style=" padding-left: 10px;  line-height: 35px;">


                                <button class="btn btn-warning dropdown-toggle" type="button" id="menuB_blendMode" data-toggle="dropdown" style="width: 120px;padding: 1px;">混色模式
                            <span class="caret"></span></button><text id="blendModeTextB" style="padding-left:15px;color:darkcyan;">選擇混色模式</text><br>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="menuB_blendMode">
                                    <li role="presentation"><a role="menuitem" tabindex="0" href="#">NORMAL</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="1" href="#">ADD</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="2" href="#">MULTIPKY</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="3" href="#">SCREEN</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="4" href="#">OVERLAY</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="5" href="#">LIGHTEN</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="6" href="#">COLOR_DODGE</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="7" href="#">COLOR_BURN</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="8" href="#">HARD_LIGHT</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="9" href="#">SOFT_LIGHT</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="10" href="#">DIFFERENCE</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="11" href="#">EXCLUSION</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="12" href="#">HUE</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="13" href="#">SATURATION</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="14" href="#">COLOR</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="15" href="#">LUMINOSITY</a></li>
                                    <li role="presentation" class="divider"></li>
                                    <li role="presentation"><a role="menuitem" tabindex="87" href="#">沒事別亂按</a></li>
                                </ul>

                            </div>
                        </div>
                        <div class="row" id="inputBDialog_2" style="background-color:rgb(250,250,250);padding:0px;width:350px;margin:5px;border-radius: 10px;">
                            <h5 style="padding-left:12px">細部調整</h5>
                            <div class="col-xs-6 span4" style="font-size: 12px ;margin-left: 5px;line-height: 22px;margin-top: 12px">
                                speed <br>
                                <line></line>
                                frame Speed <br> Sprites Size <br> <span style="font-size: 12px"> random Size </span> <br> Sprites Rotate <br> Sprite Blur <br>
                            </div>
                            <div class="col-xs-6 span2" style="margin: 5px">
                                <div id="speedSliderB" style="margin:10px;width:200px;">
                                    <!-- slide bar -->

                                    <div id="speedSliderB-handle" class="ui-slider-handle"></div>
                                </div>
                                <div id="frameSpeedB" style="margin:10px;width:200px">
                                    <div id="frameSpeedB-handle" class="ui-slider-handle"></div>
                                </div>
                                <div id="SpritesSizeB" style="margin:10px;width:200px">
                                    <div id="SpritesSizeB-handle" class="ui-slider-handle"></div>
                                </div>
                                <div id="SpritesSizeRandomB" style="margin:10px;width:200px">
                                    <div id="SpritesSizeRandomB-handle" class="ui-slider-handle"></div>
                                </div>
                                <div id="SpritesRotateB" style="margin:10px;width:200px">
                                    <div id="SpritesRotateB-handle" class="ui-slider-handle"></div>
                                </div>
                                <div id="SpriteBlurB" style="margin:10px;width:200px">
                                    <div id="SpriteBlurB-handle" class="ui-slider-handle"></div>
                                </div>
                                <button id="resetB" type="button" class="btn btn-info" style="height: 25px;width:100px;">RESET</button>
                                <button id="applyB" type="button" class="btn btn-success" style="height: 25px;width:100px;margin-top: 5px;">APPLY</button>

                            </div>
                        </div>

                    </div>

                </div>
                <div style=" padding: 5px;letter-spacing: 1px;">
                    <!-- Right  inputDataC-->

                    <button id="inputC" class="btn btn-success">素材 C</button><small class="text-info" style=" padding-left: 10px;">點選展開 </small>


                    <div id="inputDataC">

                        <div id="inputCDialog_1" style="background-color:rgb(250,250,250);padding:5px;width:350px;margin:5px;border-radius: 10px;">
                            <p style=" padding-left: 10px; ">圖檔模式:</p>
                            <form action="">
                                <div class="container-fluid" style=" padding-left: 3px;">
                                    <input type="radio" name="optionsRadiosinline" id="optionsRadiosC1" value="option1"> 單張圖
                                    <input type="radio" name="optionsRadiosinline" id="optionsRadiosC2" value="option2" checked> 連續圖
                                </div>
                            </form>
                            <div class="row" style=" padding-left: 5px; margin: 5px;width:350; ">
                                <div class="col-xs-3 span2" style="width:110px;line-height: 35px;">
                                    <input type="file" id="inputJsonC">
                                    <input type="file" id="inputSpriteJsonC">
                                    <input type="file" id="inputSprtieImageC">

                                </div>
                                <div class="col-xs-3 span5" style="width:200px">
                                    <input type="text" id="showMotionJsonC" value="選取動態JSON檔案" style="width:200px;margin-top: 4px;color:darkcyan;">
                                    <input type="text" id="showSpriteJsonC" value="選取Sprites JSON檔案" style="width:200px;margin-top: -6px;color:darkcyan;">
                                    <input type="text" id="showSpriteImageC" value="選取Sprite Image檔案" style="width:200px;margin-top: -4px;color:darkcyan;">

                                </div>
                            </div>


                            <div class="dropdown" style=" padding-left: 10px;  line-height: 35px;">


                                <button class="btn btn-warning dropdown-toggle" type="button" id="menuC_blendMode" data-toggle="dropdown" style="width: 120px;padding: 1px;">混色模式
                            <span class="caret"></span></button><text id="blendModeTextC" style="padding-left:15px;color:darkcyan ">選擇混色模式</text><br>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="menuC_blendMode">
                                    <li role="presentation"><a role="menuitem" tabindex="0" href="#">NORMAL</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="1" href="#">ADD</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="2" href="#">MULTIPKY</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="3" href="#">SCREEN</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="4" href="#">OVERLAY</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="5" href="#">LIGHTEN</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="6" href="#">COLOR_DODGE</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="7" href="#">COLOR_BURN</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="8" href="#">HARD_LIGHT</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="9" href="#">SOFT_LIGHT</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="10" href="#">DIFFERENCE</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="11" href="#">EXCLUSION</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="12" href="#">HUE</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="13" href="#">SATURATION</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="14" href="#">COLOR</a></li>
                                    <li role="presentation"><a role="menuitem" tabindex="15" href="#">LUMINOSITY</a></li>
                                    <li role="presentation" class="divider"></li>
                                    <li role="presentation"><a role="menuitem" tabindex="87" href="#">沒事別亂按</a></li>
                                </ul>

                            </div>
                        </div>
                        <div class="row" id="inputCDialog_2" style="background-color:rgb(250,250,250);padding:0px;width:350px;margin:5px;border-radius: 10px;">
                            <h5 style="padding-left:12px">細部調整</h5>
                            <div class="col-xs-6 span4" style="font-size: 12px ;margin-left: 5px;line-height: 22px;margin-top: 12px">
                                speed <br>
                                <line></line>
                                frame Speed <br> Sprites Size <br> <span style="font-size: 12px"> random Size </span> <br> Sprites Rotate <br> Sprite Blur <br>
                            </div>
                            <div class="col-xs-6 span2" style="margin: 5px">
                                <div id="speedSliderC" style="margin:10px;width:200px;">
                                    <!-- slide bar -->

                                    <div id="speedSliderC-handle" class="ui-slider-handle"></div>
                                </div>
                                <div id="frameSpeedC" style="margin:10px;width:200px">
                                    <div id="frameSpeedC-handle" class="ui-slider-handle"></div>
                                </div>
                                <div id="SpritesSizeC" style="margin:10px;width:200px">
                                    <div id="SpritesSizeC-handle" class="ui-slider-handle"></div>
                                </div>
                                <div id="SpritesSizeRandomC" style="margin:10px;width:200px">
                                    <div id="SpritesSizeRandomC-handle" class="ui-slider-handle"></div>
                                </div>
                                <div id="SpritesRotateC" style="margin:10px;width:200px">
                                    <div id="SpritesRotateC-handle" class="ui-slider-handle"></div>
                                </div>
                                <div id="SpriteBlurC" style="margin:10px;width:200px">
                                    <div id="SpriteBlurC-handle" class="ui-slider-handle"></div>
                                </div>
                                <button id="resetC" type="button" class="btn btn-info" style="height: 25px;width:100px;">RESET</button>
                                <button id="applyC" type="button" class="btn btn-success" style="height: 25px;width:100px;margin-top: 5px;">APPLY</button>

                            </div>
                        </div>

                    </div>

                </div>
                <div class="input-group" style="padding:12px; ">
                    <h6>輸出圖檔</h6>
                    <span class="input-group-addon" style="height: 20px; ">起始格</span>
                    <input id="startFrame" type="number" class="form-control" name="startFrameMsg" value="1" style="text-align: center; width:30px ; height:16px;">
                    <span class="input-group-addon" style="padding:3px; ">結束格</span>
                    <input id="endFrame" type="number" class="form-control" name="endFrameMsg" value="1" style="text-align: center; width:30px ; height:16px;"> <br>
                    <button type="button" class="btn btn-info" onclick="WriteToFile()">輸出圖檔</button>

                </div>
                <div>
                    <h1>testtesttest</h1>
                    <input type="file" accept="text/json" onchange="openFile(event)"><br>
                    <button onclick="myFunction()">Click me</button>
                </div>

            </div>


            <div class="col-xs-6 -fluid" style="background-color: black;height:2000px; margin-left: 1px" ;>
                <!-- Left -->



            </div>

        </div>
    </div>
</body>
<!--initial data -->


<script>

    var KJJsonInputStyleA = {
        rtl: false,
        showPreview: false,
        showRemove: false,
        showUpload: false,
        showCancel: false,
        showCaption: false,
        browseClass: "btn btn-info",
        browseLabel: "選取檔案",
        allowedFileExtensions: ["json", "JSON"]
    };

    var KJImageInputStyleA = {
        rtl: false,
        showPreview: false,
        showRemove: false,
        showUpload: false,
        showCancel: false,
        showCaption: false,
        browseClass: "btn btn-success",
        browseLabel: "選取檔案",
        allowedFileExtensions: ["jpg", "png"]
    }


    $(document).ready(function() {
        $("#inputDataA").show();
        $("#inputDataB").hide();
        $("#inputDataC").hide();
        $("#input_a").click(function() {
            $("#inputDataA").toggle();
        });
        $("#inputB").click(function() {
            $("#inputDataB").toggle();
        });
        $("#inputC").click(function() {
            $("#inputDataC").toggle();
        });
        $("#infoBox").show();
        $("#inputExtA").click(function() {
            $("#infoBox").toggle();
        });
    });

    $("#screenMode_databox a").click(function(e){
        e.preventDefault(); // cancel the link behaviour
        var screenModeText = $(this).text();
        $("#screenModeButton").text(screenModeText);
        var screenWidth = parseInt(screenModeText.split(" ")[1]);
        var screenHeight = parseInt(screenModeText.split(" ")[2]);
        var screenScale = parseFloat(screenModeText.split(" ")[4].split("=")[1]);
        console.log(screenWidth,screenHeight);
        PIXI_globalData.BGA.width =screenWidth;
        PIXI_globalData.BGA.height =screenHeight;
        PIXI_globalData.BGA.screenScale =screenScale;
       // console.log(screenScale);
        //$("#showScreenModeText").val(selText);
    });

    //get Bootstrap dropdown value inputADialog_3
    $("#databoxA a").click(function(e){
        e.preventDefault(); // cancel the link behaviour
        var selText = $(this).text();
        $("#menuA_blendMode").text(selText);

        PIXI_globalData.inputA.blendMode = selText
    });

    $("#inputBGA").fileinput(KJImageInputStyleA);


    $('#inputBGA').on('fileloaded', function(event, data, previewId, index) {
        $("#showBGA").val("images/" + data.name);
        delete loader.resources["BGA_image"];
        var imageURL = "images/" + data.name
        PIXI_globalData.BGA.URL =imageURL;
        PIXI_loader("BGA_image", imageURL);
    });



    //input A----------------------------

    $(document).ready(function() {
        $("#optionsRadiosA1").click(function() {
            console.log('still Image');
            PIXI_globalData.inputA.spritesImageMode = 0;
        });
        $("#optionsRadiosA2").click(function() {
            console.log('sequence Images');
            PIXI_globalData.inputA.spritesImageMode = 1;
        });
    });




    $("#inputJsonA").fileinput(KJJsonInputStyleA); //load motion JsonA

    $('#inputJsonA').on('fileloaded', function(event, data, previewId, index) {
        // console.log(event, data, previewId, index,"filepreupload");
        // console.log(event, data, previewId, index, 'fileloaded');
        // console.log(data.name);
        $("#showMotionJsonA").val(data.name);
        delete loader.resources["MotionJsonA"];
        var jsonURL = "json/" + data.name
        PIXI_loader("MotionJsonA", jsonURL);
       // console.log("jsonURL", jsonURL);
       // console.log('loader', resources);
        PIXI_globalData.inputA.motionJson = jsonURL;
        console.log('PIXI_globalData',PIXI_globalData.inputA)
    });




    $("#inputSpriteJsonA").fileinput(KJJsonInputStyleA); //load spritesImages jsonA

    $('#inputSpriteJsonA').on('fileloaded', function(event, data, previewId, index) {

        $("#showSpriteJsonA").val(data.name);
        delete loader.resources["spritesImagesJsonA"];
        delete loader.resources["spritesImagesJsonA_image"];
        var jsonURL = "sprites/" + data.name
        PIXI_loader("spritesImagesJsonA", jsonURL);
        var imgURL = jsonURL.split('.')[0]+".png"

        PIXI_globalData.inputA.spritesJson = jsonURL;
        PIXI_globalData.inputA.spritesImage = imgURL;


        //$("#info").val("");
        //$("#info").append("admin:"+$("#talk").val()+"\n");  

    });
    

    $("#stageDescriptJsonA").fileinput(KJJsonInputStyleA); //load spritesImages jsonA
    
    $('#stageDescriptJsonA').on('fileloaded', function(event, data, previewId, index) {

        $("#showStageDescriptJsonA").val(data.name);
        delete loader.resources["stageDescriptJsonA"];
        var jsonURL = "sprites/" + data.name
        PIXI_loader("stageDescriptJsonA", jsonURL);

        PIXI_globalData.inputA.stageDescriptJsonFile = jsonURL;
        PIXI_globalData.inputA.stageDescriptJsonData = "NONE";
       // console.log('PIXI_globalData',PIXI_globalData.inputA)
    });

    $("#inputJsonB").fileinput(KJJsonInputStyleA);

    $('#inputJsonB').on('fileloaded', function(event, data, previewId, index) {
        // console.log(event, data, previewId, index,"filepreupload");
        console.log(event, data, previewId, index, 'fileloaded');
        console.log(data.name);
        $("#showMotionJsonB").val(data.name);
    });

    $("#inputSpriteJsonB").fileinput(KJJsonInputStyleA);

    $("#inputSprtieImageB").fileinput(KJImageInputStyleA);




    $("#inputJsonC").fileinput(KJJsonInputStyleA);

    $('#inputJsonC').on('fileloaded', function(event, data, previewId, index) {
        // console.log(event, data, previewId, index,"filepreupload");
        console.log(event, data, previewId, index, 'fileloaded');
        console.log(data.name);
        $("#showMotionJsonC").val(data.name);
    });

    $("#inputSpriteJsonC").fileinput(KJJsonInputStyleA);

    $("#inputSprtieImageC").fileinput(KJImageInputStyleA);




    function WriteToFile(text) {


        window.location.href = image;

    }
    var JsonData = ""



    function myFunction() {
        console.log(miniApp.screen.width)
    };

    var openFile = function(event) {
        JsonData = ""
        var input = event.target;

        var reader = new FileReader();
        reader.onload = function() {
            var text = reader.result;
            JsonData += text
            console.log(JsonData.length);
        };
        reader.readAsText(input.files[0]);
        return JsonData
    };

    function ooo(event) {
        console.log('asdasd')
    }
</script>
<!--sliderA -->

<!--sliderB -->


</html>
